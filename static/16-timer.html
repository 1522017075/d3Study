<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="./js/d3.min.js"></script>
    <title>d3学习</title>
</head>
<body>
<div>
    <button onclick="countUp(100)">
        Start
    </button>
    <button onclick="reset()">
        End
    </button>
</div>
</body>
<script>

    let body = d3.select("body")

    let countdown = body.append("div").append("input");

    countdown.attr("type")
        .attr("class", "countdown")
        .attr("value", "0")

    function countUp(target) {
        d3.timer(function () { // 一直调用该函数 直到返回true
            let value = countdown.attr("value");
            if (value == target)
                return true;
            countdown.attr("value", ++value);
            console.log(value)
        });
    }

    function reset() {
        countdown.attr("value", -1000);
    }

</script>
</html>